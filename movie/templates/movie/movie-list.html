{% extends "base.html" %} {% load static %} {% block content %}
<div class="text-center">
  <h1 class="movie-list-heading">Upcoming Movies!</h1>
  <p class="movie-list-text">Click on your movie of choice for more details!</p>
</div>

<div class="container mt-4">
  <div class="row">
    {% for movie in movies %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-3">
      <div class="card card-custom text-center">
        {% if movie.poster %}
        <a href="{% url 'movie-detail' movie.slug %}">
          <img
            src="{{ movie.poster.url }}"
            class="card-img-top"
            alt="{{ movie.title|default:'Movie Image'"
            }}
          />
        </a>
        {% else %}
        <img
          src="https://via.placeholder.com/300x200"
          class="card-img-top"
          alt="Placeholder Image"
        />
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ movie.title|default:"Untitled Movie" }}</h5>

          <p class="card-text">
            {% if movie.description %} {{ movie.description|truncatewords:20 }}
            {% else %} No description available {% endif %}
          </p>

          <!-- <p class="card-text">
            {{ movie.description|default:"No description
            available"|truncatewords:20 }}
          </p> -->
          <a href="{% url 'movie-detail' movie.slug %}" class="btn btn-dark"
            >View Details</a
          >
        </div>
      </div>
    </div>
    {% if forloop.counter|divisibleby:3 %}
  </div>
  <div class="row">
    <!-- Starts a new row after every 3 cards -->
    {% endif %} {% endfor %}
  </div>
</div>

{% endblock %}
